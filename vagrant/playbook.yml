---
- name: execution des taches
  hosts: docker_hosts

  vars:
    mysql_root_password: "azerty"
    mysql_db_name: "manage_clients_db"
    

  tasks:
    - name: créer + démarrer plusieurs conteneurs web
      docker_container:
        name: getting-started
        image: docker/getting-started
        state: started
        published_ports: 3000:80
        restart_policy: always
      loop:


      #Ne fonctionne pas, il faut récupérer les données autrement
    - name: Récupérer données bdd
      community.mysql.mysql_query:
        login_user: root
        login_password: "{{ mysql_root_password }}"
        login_db: "{{ mysql_db_name }}"
        query: "SHOW TABLES;"
      register: db_query_result


   



