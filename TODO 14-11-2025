A faire sur la branche main

On a une VM dont la configuration est faite par Vagrant (fichier Vagrantfile). Un serveur web est installé sur cette machine. Les clients s'y connectent pour demander des conteneurs.
La VM attribue automatiquement le bon nombre de conteneurs.



1) Remplir fichier php :
- Gère les demandes client : 
Envoi de nom d'utilisateur, mdp du client et numéro de port du conteneur sur la page.

2) Compléter 2 playbooks Ansible :

1 pour l'initialisation des services dans la VM : serveur apache, bdd MySQL pour les informations des clients et des conteneurs.
 a) Configurer MySQL dans le playbook
 b) Configurer serveur apache dans le playbook

- 1 pour la gestion des conteneurs : création / suppression de comptes des clients (car un client a accès à un conteneur pour une durée limitée)
Les conteneurs sont préférablement des images d'un OS (Ubuntu par ex) et sont en cours d'exécution tant que la VM est en cours d'exécution. Il faut choisir le nombre de conteneurs possédés arbitrairement.
A demander : plusieurs utilisateurs pourraient avoir accès à un même conteneur


3) Idéalement ajouter du style au serveur web

Le code dans la branche webapp lance un conteneur à chaque demande de client, ce qui n'est pas demandé. Les conteneurs sont déjà lancés de base, on ignore cette branche.

3) script pour création compte user (lancer / .php avec shell_exec())

4) crontab qui exécute périodiquement playbook2 pour :
- check bdd pour voir pour chaque contract actif si conteneurs tjs en vie
- check contrats -> si contrat prend fin, supp compte utilisateur + kill processus (ssh...)

5) rajouter table contrats à la bdd

(6) utiliser docker compose pour que les conteneurs puissent communiquer entre eux)

7) modif fichiers .php +
